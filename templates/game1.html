{% extends "base.html" %}

{% block title %}Budget Builder - FinQuest{% endblock %}

{% block content %}
<div class="game-container">
    <div class="game-header">
        <a href="{{ url_for('game_zone') }}" class="back-button">
            <i class="fa-solid fa-arrow-left"></i> Back to Practice Arena
        </a>
        <h1>Budget Builder</h1>
        <p>Practice creating balanced budgets across different scenarios</p>
    </div>
    
    <div class="status-box" style="margin-bottom: var(--spacing-2xl);">
        <h3><i class="fa-solid fa-code"></i> Development Status</h3>
        <p>This challenge is ready for implementation</p>
    </div>
    
    <div class="game-canvas-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <div class="game-ui">
            <div class="game-score">Score: <span id="currentScore">0</span></div>
            <div class="game-time">Time: <span id="gameTime">60</span>s</div>
            <div class="game-lives">Lives: <span id="gameLives">3</span></div>
        </div>
        
        <div class="game-controls">
            <button id="startGame" class="game-control-btn">Start Challenge</button>
            <button id="pauseGame" class="game-control-btn" disabled>Pause</button>
            <button id="restartGame" class="game-control-btn">Restart</button>
        </div>
    </div>
    
    <div class="game-instructions" style="margin-top: var(--spacing-2xl); padding: var(--spacing-xl); background: var(--color-surface-elevated); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
        <h3 style="margin-bottom: var(--spacing-md); color: var(--color-primary);">Instructions:</h3>
        <p style="color: var(--color-text-secondary);">Challenge implementation pending. This will feature interactive budgeting scenarios to test your financial planning skills.</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    
    let gameState = 'stopped';
    let score = 0;
    let timeLeft = 60;
    let lives = 3;
    
    const startBtn = document.getElementById('startGame');
    const pauseBtn = document.getElementById('pauseGame');
    const restartBtn = document.getElementById('restartGame');
    const scoreElement = document.getElementById('currentScore');
    const timeElement = document.getElementById('gameTime');
    const livesElement = document.getElementById('gameLives');
    
    startBtn.addEventListener('click', startGame);
    pauseBtn.addEventListener('click', pauseGame);
    restartBtn.addEventListener('click', restartGame);
    
    function startGame() {
        gameState = 'running';
        startBtn.disabled = true;
        pauseBtn.disabled = false;
        drawPlaceholder();
        alert('Challenge implementation pending');
    }
    
    function pauseGame() {
        gameState = 'paused';
        startBtn.disabled = false;
        pauseBtn.disabled = true;
    }
    
    function restartGame() {
        gameState = 'stopped';
        score = 0;
        timeLeft = 60;
        lives = 3;
        updateUI();
        startBtn.disabled = false;
        pauseBtn.disabled = true;
        drawPlaceholder();
    }
    
    function updateUI() {
        scoreElement.textContent = score;
        timeElement.textContent = timeLeft;
        livesElement.textContent = lives;
    }
    
    function drawPlaceholder() {
        ctx.fillStyle = '#fafaf9';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#1a1a1a';
        ctx.font = '20px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Budget Builder Challenge', canvas.width/2, canvas.height/2 - 20);
        ctx.font = '14px Inter, sans-serif';
        ctx.fillStyle = '#6b7280';
        ctx.fillText('Implementation pending', canvas.width/2, canvas.height/2 + 20);
    }
    
    drawPlaceholder();
    updateUI();
</script>
{% endblock %}
